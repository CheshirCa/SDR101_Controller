# SDR101 Controller

Программа для управления SDR приемником SDR101 через COM-порт.

## Описание

SDR101 Controller - это приложение с графическим интерфейсом, написанное на Python, которое позволяет управлять параметрами SDR приемника SDR101 через последовательный порт. Программа поддерживает сохранение настроек в пресеты, управление частотой, модуляцией, громкостью и другими параметрами приемника.

Приемник DeepSDR101 работает без переделки, а вот китайские клоны SDR101 надо немного доработать, как описано [тут](https://swling.ru/2025/05/13/%D0%B4%D0%BE%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-deepsdr-101-clone-%D0%B4%D0%BE-%D0%BE%D1%80%D0%B8%D0%B3%D0%B8%D0%BD%D0%B0%D0%BB%D0%B0/) - обычно достаточно заменить один резистор R8 на резистор с сопротивлением 20..30 ом:

![Обычно достаточно перепаять один резистор](https://raw.githubusercontent.com/CheshirCa/SDR101_Controller/refs/heads/main/SDR101_Clone_Modify.jpg)

Такая модификация даст возможность работать с USB портом - заливать прошивки (_ОСТОРОЖНО!_), списки частот или управлять приемником через появляющийся COM порт. В китайских клонах R8 обычно имеет высокое сопротивление и сигнал по USB не проходит.

## Возможности

- **Управление подключением**: Подключение/отключение от COM-порта приемника
- **Управление частотой**: Настройка частоты от 100 кГц до 149 МГц
- **Типы модуляции**: AM, LSB, USB, CW, FM, Stereo
- **Управление АРУ**: Выкл, Медл, Средн, Быстр
- **Регулировка громкости**: Отдельно для динамика и наушников
- **Функция отключения звука**: Для динамика и наушников
- **Система пресетов**: 30 сохраняемых пресетов с настройками
- **Терминал связи**: Просмотр команд и ответов устройства
- **Автосохранение**: Настройки сохраняются в JSON-файл

## Установка и запуск

### Требования

- Python 3.6 или выше
- Установленные зависимости из `requirements.txt`

### Установка зависимостей

```bash
pip install -r requirements.txt
```

### Запуск программы

```bash
python sdr101_controller.pyw
```

## Использование

1. **Подключение к устройству**:
   - Выберите COM-порт из выпадающего списка
   - Нажмите кнопку "Подключить"

2. **Управление настройками**:
   - Используйте элементы управления в разделе "Управление" для изменения параметров в реальном времени
   - Нажмите "Отправить" для применения настроек к приемнику

3. **Работа с пресетами**:
   - Выберите пресет (кнопки 01-30)
   - Настройте параметры в разделе "Настройка пресета"
   - Нажмите "Сохранить" для сохранения настроек в выбранный пресет

4. **Терминал**:
   - Откройте терминал для просмотра команд и ответов устройства
   - Полезно для отладки и мониторинга связи

## Структура проекта

```
sdr101_controller.pyw    # Основной файл программы
sdr_presets.json         # Файл с сохраненными пресетами (создается автоматически)
README.md               # Этот файл
```

## Формат файла конфигурации

Настройки пресетов сохраняются в файл `sdr_presets.json` в формате:

```json
{
  "preset01": {
    "station_name": "Название станции",
    "frequency": "104400K",
    "modulation": "FM",
    "agc": "Средн",
    "speaker_volume": 50,
    "headphone_volume": 50,
    "speaker_mute": false,
    "headphone_mute": false
  },
  ...
}
```

## Поддерживаемые команды

Программа отправляет на приемник следующие команды:
- `tune <частота>` - установка частоты в Гц
- `mode <режим>` - установка типа модуляции
- `agc <режим>` - установка режима АРУ
- `volume <уровень>` - установка громкости (0-100)
- `spk <0/1>` - выключение/включение динамика

## Особенности

- **Интерфейс на русском языке**
- **Подсказки при наведении** на элементы управления
- **Валидация вводимых данных**
- **Автоматическое сканирование COM-портов**
- **Защита от ошибок связи**

## Разработка

Программа использует следующие библиотеки:
- `tkinter` - для графического интерфейса
- `pyserial` - для работы с COM-портом
- `json` - для работы с файлами конфигурации

